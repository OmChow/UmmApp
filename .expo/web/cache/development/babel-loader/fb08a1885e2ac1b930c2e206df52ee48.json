{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport React, { useEffect } from 'react';\nimport nopic from \"../../assets/nopic.png\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ChatCard = function ChatCard(_ref) {\n  var _fuserdata$user, _fuserdata$user2, _fuserdata$user3;\n  var chat = _ref.chat,\n    navigation = _ref.navigation;\n  console.log(chat.fuserid);\n  var _React$useState = React.useState(null),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    fuserdata = _React$useState2[0],\n    setFuserdata = _React$useState2[1];\n  useEffect(function () {\n    fetch('http://10.0.2.2:3000/getuserbyid', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        userid: chat.fuserid\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      console.log(data);\n      setFuserdata(data);\n    }).catch(function (err) {\n      alert('Something went wrong');\n      setFuserdata(null);\n    });\n  }, []);\n  return _jsxs(View, {\n    style: styles.ChatCard,\n    children: [fuserdata != null && (_fuserdata$user = fuserdata.user) != null && _fuserdata$user.profilepic ? _jsx(Image, {\n      source: {\n        uri: fuserdata == null ? void 0 : (_fuserdata$user2 = fuserdata.user) == null ? void 0 : _fuserdata$user2.profilepic\n      },\n      style: styles.image\n    }) : _jsx(Image, {\n      source: nopic,\n      style: styles.image\n    }), _jsxs(View, {\n      style: styles.c1,\n      children: [_jsx(Text, {\n        style: styles.username,\n        onPress: function onPress() {\n          navigation.navigate('MessagePage', {\n            fuseremail: fuserdata.user.email,\n            fuserid: fuserdata.user._id\n          });\n        },\n        children: fuserdata == null ? void 0 : (_fuserdata$user3 = fuserdata.user) == null ? void 0 : _fuserdata$user3.username\n      }), _jsx(Text, {\n        style: styles.lastmessage,\n        children: chat.lastmessage\n      })]\n    })]\n  });\n};\nexport default ChatCard;\nvar styles = StyleSheet.create({\n  ChatCard: {\n    backgroundColor: '#111111',\n    width: '100%',\n    marginTop: 10,\n    borderRadius: 20,\n    padding: 10,\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  image: {\n    width: 40,\n    height: 40,\n    borderRadius: 50\n  },\n  username: {\n    color: 'white',\n    fontSize: 20,\n    fontWeight: 'bold'\n  },\n  c1: {\n    marginLeft: 20\n  },\n  lastmessage: {\n    color: 'gray',\n    fontSize: 19\n  }\n});","map":{"version":3,"names":["React","useEffect","nopic","ChatCard","chat","navigation","console","log","fuserid","useState","fuserdata","setFuserdata","fetch","method","headers","body","JSON","stringify","userid","then","res","json","data","catch","err","alert","styles","user","profilepic","uri","image","c1","username","navigate","fuseremail","email","_id","lastmessage","StyleSheet","create","backgroundColor","width","marginTop","borderRadius","padding","flexDirection","alignItems","height","color","fontSize","fontWeight","marginLeft"],"sources":["/Users/supriyomal/Desktop/Umm/App/SRC/Cards/ChatCard.js"],"sourcesContent":["import { StyleSheet, Text, View, Image } from 'react-native'\nimport React, { useEffect } from 'react'\nimport nopic from '../../assets/nopic.png'\nimport { TouchableOpacity } from 'react-native-web'\nconst ChatCard = ({ chat, navigation }) => {\n\n    console.log(chat.fuserid)\n    let [fuserdata, setFuserdata] = React.useState(null);\n    useEffect(() => {\n        fetch('http://10.0.2.2:3000/getuserbyid', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                userid: chat.fuserid\n            })\n        })\n            .then(res => res.json())\n            .then(data => {\n                console.log(data)\n                setFuserdata(data)\n            })\n            .catch(err => {\n                alert('Something went wrong')\n                setFuserdata(null)\n            })\n    }, [])\n    return (\n\n        <View style={styles.ChatCard} >\n            {\n                fuserdata?.user?.profilepic ?\n                    <Image source={{ uri: fuserdata?.user?.profilepic }} style={styles.image} />\n                    :\n                    <Image source={nopic} style={styles.image} />\n            }\n\n            <View style={styles.c1}>\n                <Text style={styles.username} onPress={\n                    \n                        ()=>{\n                            navigation.navigate('MessagePage',{\n                                fuseremail : fuserdata.user.email,\n                                fuserid : fuserdata.user._id,\n                            })\n                        }\n                    \n                }>{fuserdata?.user?.username}</Text>\n                <Text style={styles.lastmessage}>{chat.lastmessage}</Text>\n            </View>\n        </View>\n\n\n\n\n    )\n}\n\nexport default ChatCard\n\nconst styles = StyleSheet.create({\n    ChatCard: {\n        backgroundColor: '#111111',\n        width: '100%',\n        marginTop: 10,\n        borderRadius: 20,\n        padding: 10,\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    image: {\n        width: 40,\n        height: 40,\n        borderRadius: 50,\n    },\n    username: {\n        color: 'white',\n        fontSize: 20,\n        fontWeight: 'bold',\n    },\n    c1: {\n        marginLeft: 20,\n    },\n    lastmessage: {\n        color: 'gray',\n        fontSize: 19,\n    }\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}