{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport React from 'react';\nimport logo from \"../../../../assets/logo.png\";\nimport { containerFull, hr80, logo1 } from \"../../../CommonCss/pagecss\";\nimport { formbtn, formHead, formInput, formTextLinkCenter, formTextLinkRight } from \"../../../CommonCss/formcss\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Login = function Login(_ref) {\n  var navigation = _ref.navigation;\n  var _React$useState = React.useState(''),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    email = _React$useState2[0],\n    setEmail = _React$useState2[1];\n  var _React$useState3 = React.useState(''),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    password = _React$useState4[0],\n    setPassword = _React$useState4[1];\n  var _React$useState5 = React.useState(false),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    loading = _React$useState6[0],\n    setLoading = _React$useState6[1];\n  var handleLogin = function handleLogin() {\n    if (email == '' || password == '') {\n      alert('Please enter email and password');\n    } else {\n      setLoading(true);\n      fetch('http://10.0.2.2:3000/signin', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: email,\n          password: password\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function () {\n        var _ref2 = _asyncToGenerator(function* (data) {\n          if (data.error) {\n            setLoading(false);\n            alert(data.error);\n          } else if (data.message == 'Successfully Signed In') {\n            setLoading(false);\n            yield AsyncStorage.setItem('user', JSON.stringify(data));\n            navigation.navigate('MainPage', {\n              data: data\n            });\n          }\n        });\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }()).catch(function (err) {\n        setLoading(false);\n        alert(err);\n      });\n    }\n  };\n  return _jsxs(View, {\n    style: containerFull,\n    children: [_jsx(Image, {\n      source: logo,\n      style: logo1\n    }), _jsx(Text, {\n      style: formHead,\n      children: \"Login\"\n    }), _jsx(TextInput, {\n      placeholder: \"Enter Your Email\",\n      style: formInput,\n      onChangeText: function onChangeText(text) {\n        return setEmail(text);\n      }\n    }), _jsx(TextInput, {\n      placeholder: \"Enter Your Password\",\n      style: formInput,\n      secureTextEntry: true,\n      onChangeText: function onChangeText(text) {\n        return setPassword(text);\n      }\n    }), _jsx(Text, {\n      style: formTextLinkRight,\n      onPress: function onPress() {\n        return navigation.navigate('ForgotPassword_EnterEmail');\n      },\n      children: \"Forgot Password?\"\n    }), loading ? _jsx(ActivityIndicator, {\n      size: \"large\",\n      color: \"white\"\n    }) : _jsx(Text, {\n      style: formbtn,\n      onPress: function onPress() {\n        return handleLogin();\n      },\n      children: \"Submit\"\n    }), _jsx(View, {\n      style: hr80\n    }), _jsxs(Text, {\n      style: formTextLinkCenter,\n      children: [\"Don't have an account? \", _jsx(Text, {\n        style: {\n          color: 'white'\n        },\n        onPress: function onPress() {\n          return navigation.navigate('Signup_EnterEmail');\n        },\n        children: \"Signup\"\n      })]\n    })]\n  });\n};\nexport default Login;\nvar styles = StyleSheet.create({});","map":{"version":3,"names":["React","logo","containerFull","hr80","logo1","formbtn","formHead","formInput","formTextLinkCenter","formTextLinkRight","AsyncStorage","Login","navigation","useState","email","setEmail","password","setPassword","loading","setLoading","handleLogin","alert","fetch","method","headers","body","JSON","stringify","then","res","json","data","error","message","setItem","navigate","catch","err","text","color","styles","StyleSheet","create"],"sources":["/Users/supriyomal/Desktop/Untitled/SRC/Screens/LoginSignup/Login/Login.js"],"sourcesContent":["import { StyleSheet, Text, View, Image, TextInput, ActivityIndicator} from 'react-native'\nimport React from 'react'\nimport logo from '../../../../assets/logo.png'\nimport { containerFull, hr80, logo1 } from '../../../CommonCss/pagecss'\nimport { formbtn, formHead, formInput, formTextLinkCenter, formTextLinkRight } from '../../../CommonCss/formcss'\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst Login = ({ navigation }) => {\n    const [email, setEmail] = React.useState('')\n    const [password, setPassword] = React.useState('')\n    const [loading, setLoading] = React.useState(false)\n\n    const handleLogin = () => {\n        if (email == '' || password == '') {\n            alert('Please enter email and password')\n        }\n        else {\n            setLoading(true)\n            fetch('http://10.0.2.2:3000/signin', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    email,\n                    password\n                })\n            })\n                .then(res => res.json())\n                .then(async data => {\n                    if (data.error) {\n                        setLoading(false)\n                        alert(data.error)\n                    }\n                    else if (data.message == 'Successfully Signed In') {\n                        setLoading(false)\n                        await AsyncStorage.setItem('user', JSON.stringify(data))\n                        navigation.navigate('MainPage', { data })\n                    }\n                })\n                .catch(err => {\n                    setLoading(false)\n                    alert(err)\n                })\n        }\n        // navigation.navigate('MainPage')\n    }\n    return (\n        <View style={containerFull}>\n            <Image source={logo} style={logo1} />\n            <Text style={formHead}>Login</Text>\n            <TextInput placeholder=\"Enter Your Email\" style={formInput}\n                onChangeText={(text) => setEmail(text)}\n            />\n            <TextInput placeholder=\"Enter Your Password\" style={formInput}\n                secureTextEntry={true}\n                onChangeText={(text) => setPassword(text)}\n            />\n            <Text style={formTextLinkRight}\n                onPress={() => navigation.navigate('ForgotPassword_EnterEmail')}\n            >Forgot Password?</Text>\n\n            {\n                loading ?\n                    <ActivityIndicator size=\"large\" color=\"white\" />\n                    :\n                    <Text style={formbtn} onPress={\n                        () => handleLogin()\n                    }>\n                        Submit\n                    </Text>\n            }\n\n\n            <View style={hr80}></View>\n\n\n            <Text style={formTextLinkCenter}>\n                Don't have an account? <Text style={{ color: 'white' }}\n                    onPress={() => navigation.navigate('Signup_EnterEmail')}\n                >Signup</Text>\n            </Text>\n\n        </View>\n    )\n}\n\nexport default Login\n\nconst styles = StyleSheet.create({})"],"mappings":";;;;;;;;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,IAAI;AACX,SAASC,aAAa,EAAEC,IAAI,EAAEC,KAAK;AACnC,SAASC,OAAO,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,kBAAkB,EAAEC,iBAAiB;AAC5E,OAAOC,YAAY,MAAM,2CAA2C;AAAC;AAAA;AAErE,IAAMC,KAAK,GAAG,SAARA,KAAK,OAAuB;EAAA,IAAjBC,UAAU,QAAVA,UAAU;EACvB,sBAA0BZ,KAAK,CAACa,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCC,KAAK;IAAEC,QAAQ;EACtB,uBAAgCf,KAAK,CAACa,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA3CG,QAAQ;IAAEC,WAAW;EAC5B,uBAA8BjB,KAAK,CAACa,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA5CK,OAAO;IAAEC,UAAU;EAE1B,IAAMC,WAAW,GAAG,SAAdA,WAAW,GAAS;IACtB,IAAIN,KAAK,IAAI,EAAE,IAAIE,QAAQ,IAAI,EAAE,EAAE;MAC/BK,KAAK,CAAC,iCAAiC,CAAC;IAC5C,CAAC,MACI;MACDF,UAAU,CAAC,IAAI,CAAC;MAChBG,KAAK,CAAC,6BAA6B,EAAE;QACjCC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjBb,KAAK,EAALA,KAAK;UACLE,QAAQ,EAARA;QACJ,CAAC;MACL,CAAC,CAAC,CACGY,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIA,GAAG,CAACC,IAAI,EAAE;MAAA,EAAC,CACvBF,IAAI;QAAA,8BAAC,WAAMG,IAAI,EAAI;UAChB,IAAIA,IAAI,CAACC,KAAK,EAAE;YACZb,UAAU,CAAC,KAAK,CAAC;YACjBE,KAAK,CAACU,IAAI,CAACC,KAAK,CAAC;UACrB,CAAC,MACI,IAAID,IAAI,CAACE,OAAO,IAAI,wBAAwB,EAAE;YAC/Cd,UAAU,CAAC,KAAK,CAAC;YACjB,MAAMT,YAAY,CAACwB,OAAO,CAAC,MAAM,EAAER,IAAI,CAACC,SAAS,CAACI,IAAI,CAAC,CAAC;YACxDnB,UAAU,CAACuB,QAAQ,CAAC,UAAU,EAAE;cAAEJ,IAAI,EAAJA;YAAK,CAAC,CAAC;UAC7C;QACJ,CAAC;QAAA;UAAA;QAAA;MAAA,IAAC,CACDK,KAAK,CAAC,UAAAC,GAAG,EAAI;QACVlB,UAAU,CAAC,KAAK,CAAC;QACjBE,KAAK,CAACgB,GAAG,CAAC;MACd,CAAC,CAAC;IACV;EAEJ,CAAC;EACD,OACI,MAAC,IAAI;IAAC,KAAK,EAAEnC,aAAc;IAAA,WACvB,KAAC,KAAK;MAAC,MAAM,EAAED,IAAK;MAAC,KAAK,EAAEG;IAAM,EAAG,EACrC,KAAC,IAAI;MAAC,KAAK,EAAEE,QAAS;MAAA,UAAC;IAAK,EAAO,EACnC,KAAC,SAAS;MAAC,WAAW,EAAC,kBAAkB;MAAC,KAAK,EAAEC,SAAU;MACvD,YAAY,EAAE,sBAAC+B,IAAI;QAAA,OAAKvB,QAAQ,CAACuB,IAAI,CAAC;MAAA;IAAC,EACzC,EACF,KAAC,SAAS;MAAC,WAAW,EAAC,qBAAqB;MAAC,KAAK,EAAE/B,SAAU;MAC1D,eAAe,EAAE,IAAK;MACtB,YAAY,EAAE,sBAAC+B,IAAI;QAAA,OAAKrB,WAAW,CAACqB,IAAI,CAAC;MAAA;IAAC,EAC5C,EACF,KAAC,IAAI;MAAC,KAAK,EAAE7B,iBAAkB;MAC3B,OAAO,EAAE;QAAA,OAAMG,UAAU,CAACuB,QAAQ,CAAC,2BAA2B,CAAC;MAAA,CAAC;MAAA,UACnE;IAAgB,EAAO,EAGpBjB,OAAO,GACH,KAAC,iBAAiB;MAAC,IAAI,EAAC,OAAO;MAAC,KAAK,EAAC;IAAO,EAAG,GAEhD,KAAC,IAAI;MAAC,KAAK,EAAEb,OAAQ;MAAC,OAAO,EACzB;QAAA,OAAMe,WAAW,EAAE;MAAA,CACtB;MAAA,UAAC;IAEF,EAAO,EAIf,KAAC,IAAI;MAAC,KAAK,EAAEjB;IAAK,EAAQ,EAG1B,MAAC,IAAI;MAAC,KAAK,EAAEK,kBAAmB;MAAA,WAAC,yBACN,OAAC,IAAI;QAAC,KAAK,EAAE;UAAE+B,KAAK,EAAE;QAAQ,CAAE;QACnD,OAAO,EAAE;UAAA,OAAM3B,UAAU,CAACuB,QAAQ,CAAC,mBAAmB,CAAC;QAAA,CAAC;QAAA,UAC3D;MAAM,EAAO;IAAA,EACX;EAAA,EAEJ;AAEf,CAAC;AAED,eAAexB,KAAK;AAEpB,IAAM6B,MAAM,GAAGC,UAAU,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC"},"metadata":{},"sourceType":"module"}